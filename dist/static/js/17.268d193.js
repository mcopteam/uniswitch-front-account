webpackJsonp([17,21],{27:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(7),n=l(r),u=a(2),s=l(u),o=a(5),d=l(o),i=a(4),c=l(i),m=a(3),f=l(m);a(34);var p=a(1),g=l(p),y=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.title;return g.default.createElement("h2",{className:"page-title"},e)}}]),t}(p.Component);t.default=y},33:function(e,t,a){t=e.exports=a(11)(),t.push([e.id,".page-title{border-left:2px solid #fa7a27;padding:0 10px;line-height:22px}",""])},34:function(e,t,a){var l=a(33);"string"==typeof l&&(l=[[e.id,l,""]]);a(12)(l,{});l.locals&&(e.exports=l.locals)},46:function(e,t,a){e.exports={default:a(58),__esModule:!0}},58:function(e,t,a){var l=a(31),r=l.JSON||(l.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},68:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.metadataCategoryCreate=t.metadataCategoryDelete=t.metadataCategoryEdit=t.metadataCategoryListCopy=t.metadataCategoryList=void 0;var r=a(19),n=l(r),u=a(15),s=a(16),o=a(17),d=a(9),i="METADATA_CATEGORY_LIST",c=(t.metadataCategoryList=function(e,t,a){var l=void 0;if(t&&a){var r=(0,s.param)({pageNum:a.current||1,pageSize:6,categoryId:t.categoryId,categoryName:t.categoryName});(0,n.default)((0,u.api)(o.url.getMetadataCategoryList,r)).then(function(t){console.log(t),0==t.code?(d.message.success(t.msg),l=t.result,e({metaGategoryList:l,type:i})):d.message.error(t.msg)})}else l=[],e({metaGategoryList:l,type:i})},t.metadataCategoryListCopy=function(e,t,a,l){var r=void 0;if(t&&a){if("all"==l)var d=(0,s.param)({pageNum:a.current||1,pageSize:100,categoryId:t.categoryId,categoryName:t.categoryName});else var d=(0,s.param)({pageNum:a.current||1,pageSize:6,categoryId:t.categoryId,categoryName:t.categoryName});(0,n.default)((0,u.api)(o.url.getMetadataCategoryList,d)).then(function(t){console.log(t),0==t.code&&(r=t.result,e({metaGategoryList:r,type:i}))})}else r=[],e({metaGategoryList:r,type:i})});t.metadataCategoryEdit=function(e,t,a,l){var r=(0,s.param)(t);(0,n.default)((0,u.api)(o.url.getMetadataCategoryEdit,r)).then(function(t){console.log(t),0==t.code?(d.message.success(t.msg),c(e,{},{})):d.message.error(t.msg)})},t.metadataCategoryDelete=function(e,t){var a=(0,s.param)({categoryId:t});(0,n.default)((0,u.api)(o.url.getMetadataCategoryDelete,a)).then(function(t){console.log(t),0==t.code?(d.message.success(t.msg),c(e)):d.message.error(t.msg)})},t.metadataCategoryCreate=function(e,t){var a=(0,s.param)(t);(0,n.default)((0,u.api)(o.url.getMetadataCategoryCreate,a)).then(function(t){console.log(t),0==t.code?(d.message.success(t.msg),c(e,{},{})):d.message.error(t.msg)})}},98:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.metadataDataCreate=t.metadataDataDelete=t.metadataDataEdit=t.metadataDataListCopy=t.metadataDataList=void 0;var r=a(19),n=l(r),u=a(15),s=a(16),o=a(17),d=a(9),i="METADATA_DATA_LIST",c=(t.metadataDataList=function(e,t,a){var l=void 0;if(t&&a){var r=(0,s.param)({pageNum:a.current||0,pageSize:6,categoryId:t.categoryId,dataId:t.dataId,dataName:t.dataName,dataStatus:t.dataStatus});(0,n.default)((0,u.api)(o.url.metadataDataList,r)).then(function(t){if(console.log(t),0==t.code){d.message.success(t.msg),l=t.result;for(var a=0;a<l.data.length;a++)switch(l.data[a].dataStatus){case 1:l.data[a].dataStatus="新建";break;case 5:l.data[a].dataStatus="上架";break;case 6:l.data[a].dataStatus="下架"}e({metaDataList:l,type:i})}else d.message.error(t.msg)})}else l=[],e({metaDataList:l,type:i})},t.metadataDataListCopy=function(e,t,a){var l=void 0;if(t&&a){var r=(0,s.param)({pageNum:a.current||0,pageSize:6,categoryId:t.categoryId,dataId:t.dataId,dataName:t.dataName,dataStatus:t.dataStatus});(0,n.default)((0,u.api)(o.url.metadataDataList,r)).then(function(t){if(console.log(t),0==t.code){l=t.result;for(var a=0;a<l.data.length;a++)switch(l.data[a].dataStatus){case 1:l.data[a].dataStatus="新建";break;case 5:l.data[a].dataStatus="上架";break;case 6:l.data[a].dataStatus="下架"}e({metaDataList:l,type:i})}})}else l=[],e({metaDataList:l,type:i})});t.metadataDataEdit=function(e,t,a,l){var r=(0,s.param)(t);(0,n.default)((0,u.api)(o.url.metadataDataUpdate,r)).then(function(t){console.log(t),0==t.code?(d.message.success(t.msg),c(e,{},{})):d.message.error(t.msg)})},t.metadataDataDelete=function(e,t){var a=(0,s.param)({category_id:t});(0,n.default)((0,u.api)(o.url.metadataDataDelete,a)).then(function(t){0==t.code?(d.message.success(t.msg),c(e)):d.message.error(t.msg)})},t.metadataDataCreate=function(e,t){var a=(0,s.param)(t);(0,n.default)((0,u.api)(o.url.metadataDataCreate,a)).then(function(e){console.log(e),0==e.code?d.message.success(e.msg):d.message.error(e.msg)})}},959:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(7),n=l(r),u=a(2),s=l(u),o=a(5),d=l(o),i=a(4),c=l(i),m=a(3),f=l(m);a(1926);var p=a(1),g=l(p),y=(a(20),a(27)),h=l(y),E=a(960),v=l(E),C=a(9),b=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){this.props.buttonList;return g.default.createElement("div",{className:"page"},g.default.createElement(h.default,{title:"合同模板添加"}),g.default.createElement(C.Row,{style:{marginTop:"10px",marginBottom:"10px"}},g.default.createElement(C.Col,{span:20,offset:2},g.default.createElement(v.default,null))))}}]),t}(p.Component);t.default=b},960:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(46),n=l(r),u=a(6),s=l(u),o=a(7),d=l(o),i=a(2),c=l(i),m=a(5),f=l(m),p=a(4),g=l(p),y=a(3),h=l(y);a(1927);var E=a(1),v=l(E),C=a(9),b=a(98),k=a(68),N=a(20),I=C.Form.Item,_=C.Input.TextArea,D=0,x=C.Select.Option,S=function(e){function t(e){(0,c.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return a.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){console.log(t),t=(0,s.default)({},t,{attrArr:[]});for(var a=0;a<t.keys.length;a++)t.attrArr.push({attrName:t["attrName"+t.keys[a]],attrType:t["attrType"+t.keys[a]],attrClassify:t["attrClassify"+t.keys[a]],attrMethod:t["attrMethod"+t.keys[a]],attrCandidate:t["attrCandidate"+t.keys[a]],attrTemplateId:t["attrTemplateId"+t.keys[a]],attrTemplateAttr:t["attrTemplateAttr"+t.keys[a]]});var l={templateId:t.templateId,templateName:t.templateName,templateDesc:t.templateDesc,upload:t.upload,productClassify:t.productClassify,productId:t.productId,attributeList:t.attrArr};console.log("Received values of form: ",l);var r={dataParams:(0,n.default)(l)};console.log(r)}})},a.remove=function(e){var t=a.props.form,l=t.getFieldValue("keys");1!==l.length&&t.setFieldsValue({keys:l.filter(function(t){return t!==e})})},a.add=function(){D++;var e=a.props.form,t=e.getFieldValue("keys"),l=t.concat(D);e.setFieldsValue({keys:l})},a.checkPrice=function(e,t,a){return t.number>0?void a():void a("Price must greater than zero!")},a.handleReset=function(){a.props.form.resetFields()},a.state={},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props.metaGategoryList;t.data&&(t=t.data);var a=this.props.form,l=a.getFieldDecorator,r=a.getFieldValue,n={labelCol:{xs:{span:12},sm:{span:6}},wrapperCol:{xs:{span:12},sm:{span:14}}},u={wrapperCol:{xs:{span:12,offset:0},sm:{span:12,offset:6}}},o=[];t.forEach(function(e,t){o.push(v.default.createElement(x,{key:t,value:e.categoryId+""},e.categoryName))});var d={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}};l("keys",{initialValue:[]});var i=r("keys"),c=i.map(function(t,a){return v.default.createElement("div",{className:"attrCon"},v.default.createElement(C.Row,null,v.default.createElement(C.Col,{span:3},v.default.createElement(I,(0,s.default)({},d,{label:"",required:!1,key:t+"name"}),l("attrName"+t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入属性名称"}]})(v.default.createElement(C.Input,{placeholder:"属性名称"+t,style:{width:"80%",marginRight:2}})),i.length>1?v.default.createElement(C.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===i.length,onClick:function(){return e.remove(t)}}):null)),v.default.createElement(C.Col,{span:3},v.default.createElement(I,(0,s.default)({},d,{label:"",required:!1,key:t+"type"}),l("attrType"+t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请选择属性类型"}]})(v.default.createElement(C.Select,{placeholder:"请选择属性类型",style:{width:"80%",marginRight:2}},o)),i.length>1?v.default.createElement(C.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===i.length,onClick:function(){return e.remove(t)}}):null)),v.default.createElement(C.Col,{span:3},v.default.createElement(I,(0,s.default)({},d,{label:"",required:!1,key:t+"classify"}),l("attrClassify"+t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请选择属性分类"}]})(v.default.createElement(C.Select,{placeholder:"请选择属性分类",style:{width:"80%",marginRight:2}},o)),i.length>1?v.default.createElement(C.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===i.length,onClick:function(){return e.remove(t)}}):null)),v.default.createElement(C.Col,{span:3},v.default.createElement(I,(0,s.default)({},d,{label:"",required:!1,key:t+"method"}),l("attrMethod"+t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请选择录入方式"}]})(v.default.createElement(C.Select,{placeholder:"请选择录入方式",style:{width:"80%",marginRight:2}},o)),i.length>1?v.default.createElement(C.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===i.length,onClick:function(){return e.remove(t)}}):null)),v.default.createElement(C.Col,{span:3},v.default.createElement(I,(0,s.default)({},d,{label:"",required:!1,key:t+"candidate"}),l("attrCandidate"+t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入属性候选值"}]})(v.default.createElement(C.Input,{placeholder:"属性候选值"+t,style:{width:"80%",marginRight:2}})),i.length>1?v.default.createElement(C.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===i.length,onClick:function(){return e.remove(t)}}):null)),v.default.createElement(C.Col,{span:3},v.default.createElement(I,(0,s.default)({},d,{label:"",required:!1,key:t+"templateId"}),l("attrTemplateId"+t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入合约模板编号"}]})(v.default.createElement(C.Input,{placeholder:"合约模板编号"+t,style:{width:"80%",marginRight:2}})),i.length>1?v.default.createElement(C.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===i.length,onClick:function(){return e.remove(t)}}):null)),v.default.createElement(C.Col,{span:3},v.default.createElement(I,(0,s.default)({},d,{label:"",required:!1,key:t+"templateAttr"}),l("attrTemplateAttr"+t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请选择合约模板属性"}]})(v.default.createElement(C.Select,{placeholder:"请选择合约模板属性",style:{width:"80%",marginRight:2}},o)),i.length>1?v.default.createElement(C.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===i.length,onClick:function(){return e.remove(t)}}):null))))});return v.default.createElement(C.Form,{onSubmit:this.handleSubmit},v.default.createElement("p",{className:"fontP"},"基本属性："),v.default.createElement(I,(0,s.default)({},n,{label:"合同模板分类",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},l("templateId",{rules:[{required:!0,message:"请选择合同模板分类"}]})(v.default.createElement(C.Select,null,o)))),v.default.createElement(I,(0,s.default)({},n,{label:"合同模板名称",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},l("templateName",{rules:[{required:!0,message:"请输入合同模名称"}]})(v.default.createElement(C.Input,{name:"name",key:"name"})))),v.default.createElement(I,(0,s.default)({},n,{label:"合同模板描述",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},l("templateDesc",{rules:[{required:!0,message:"合同模板描述"}]})(v.default.createElement(_,{name:"note",key:"note"})))),v.default.createElement("p",{className:"fontP"},"模板文件："),v.default.createElement(I,(0,s.default)({},n,{label:"模板文件",extra:"模板文件必须是PDF格式"}),l("upload",{valuePropName:"fileList",rules:[{required:!0,message:"上传合同模板"}],getValueFromEvent:this.normFile})(v.default.createElement(C.Upload,{name:"logo",action:"",listType:"picture"},v.default.createElement(C.Button,null,v.default.createElement(C.Icon,{type:"upload"})," 上传模板文件")))),v.default.createElement("p",{className:"fontP"},"合约产品："),v.default.createElement(I,(0,s.default)({},n,{label:"合约产品分类",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},l("productClassify",{rules:[{required:!0,message:"请选择合约产品分类"}]})(v.default.createElement(C.Select,null,o)))),v.default.createElement(I,(0,s.default)({},n,{label:"合约产品",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},l("productId",{rules:[{required:!0,message:"请选择合约产品"}]})(v.default.createElement(C.Select,null,o)))),v.default.createElement("hr",null),v.default.createElement("p",{className:"fontP"},"扩展属性信息："),v.default.createElement(C.Row,{className:"attrTitle"},v.default.createElement(C.Col,{span:3},v.default.createElement("p",null,"名称")),v.default.createElement(C.Col,{span:3},v.default.createElement("p",null,"类型")),v.default.createElement(C.Col,{span:3},v.default.createElement("p",null,"分类")),v.default.createElement(C.Col,{span:3},v.default.createElement("p",null,"录入方式")),v.default.createElement(C.Col,{span:3},v.default.createElement("p",null,"候选值")),v.default.createElement(C.Col,{span:3},v.default.createElement("p",null,"合约模板编号")),v.default.createElement(C.Col,{span:3},v.default.createElement("p",null,"合约模板属性"))),c,v.default.createElement(I,d,v.default.createElement(C.Button,{type:"dashed",onClick:this.add,style:{width:"60%"}},v.default.createElement(C.Icon,{type:"plus"}),"添加扩展属性")),v.default.createElement(I,u,v.default.createElement(C.Button,{type:"primary",onClick:this.handleReset,style:{marginRight:"20px"}},"清空"),v.default.createElement(C.Button,{type:"primary",htmlType:"submit",style:{marginLeft:"33%"}},"添加")))}},{key:"componentDidMount",value:function(){this.props.fetchCategory("all"),this.render()}}]),t}(v.default.Component),w=function(e){return(0,s.default)({},e.metaGategoryList)},T=function(e){return{submitCreate:function(t){(0,b.metadataDataCreate)(e,t)},fetchCategory:function(t){(0,k.metadataCategoryListCopy)(e,{},{},t)}}},L=C.Form.create()(S);t.default=(0,N.connect)(w,T)(L)},1356:function(e,t,a){t=e.exports=a(11)(),t.push([e.id,"",""])},1357:function(e,t,a){t=e.exports=a(11)(),t.push([e.id,".anticon-close-circle{position:absolute;right:7px;top:7px;cursor:pointer;color:#ccc;transition:color .3s;font-size:12px}.ant-input-affix-wrapper{position:relative;display:inline-block}.anticon-close-circle:hover{color:#999}.anticon-close-circle:active{color:#666}.ant-input-prefix{left:7px;top:7px;z-index:2}input.ant-input{padding-left:24px}.fontP{margin-top:20px;font-size:14px;font-weight:700}.attrCon input.ant-input,.attrCon input.ant-input-lg{padding-left:5px}.attrCon .ant-col-sm-14{width:100%}.attrTitle{margin-bottom:20px;padding-left:30px}.attrTitle p{text-align:center}",""])},1926:function(e,t,a){var l=a(1356);"string"==typeof l&&(l=[[e.id,l,""]]);a(12)(l,{});l.locals&&(e.exports=l.locals)},1927:function(e,t,a){var l=a(1357);"string"==typeof l&&(l=[[e.id,l,""]]);a(12)(l,{});l.locals&&(e.exports=l.locals)}});