webpackJsonp([10,21],{27:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(7),r=l(n),d=t(2),s=l(d),u=t(5),i=l(u),o=t(4),c=l(o),f=t(3),m=l(f);t(34);var p=t(1),g=l(p),h=function(e){function a(){return(0,s.default)(this,a),(0,c.default)(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return(0,m.default)(a,e),(0,i.default)(a,[{key:"render",value:function(){var e=this.props.title;return g.default.createElement("h2",{className:"page-title"},e)}}]),a}(p.Component);a.default=h},33:function(e,a,t){a=e.exports=t(11)(),a.push([e.id,".page-title{border-left:2px solid #fa7a27;padding:0 10px;line-height:22px}",""])},34:function(e,a,t){var l=t(33);"string"==typeof l&&(l=[[e.id,l,""]]);t(12)(l,{});l.locals&&(e.exports=l.locals)},46:function(e,a,t){e.exports={default:t(58),__esModule:!0}},58:function(e,a,t){var l=t(31),n=l.JSON||(l.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},68:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0}),a.metadataCategoryCreate=a.metadataCategoryDelete=a.metadataCategoryEdit=a.metadataCategoryListCopy=a.metadataCategoryList=void 0;var n=t(19),r=l(n),d=t(15),s=t(16),u=t(17),i=t(9),o="METADATA_CATEGORY_LIST",c=(a.metadataCategoryList=function(e,a,t){var l=void 0;if(a&&t){var n=(0,s.param)({pageNum:t.current||1,pageSize:6,categoryId:a.categoryId,categoryName:a.categoryName});(0,r.default)((0,d.api)(u.url.getMetadataCategoryList,n)).then(function(a){console.log(a),0==a.code?(i.message.success(a.msg),l=a.result,e({metaGategoryList:l,type:o})):i.message.error(a.msg)})}else l=[],e({metaGategoryList:l,type:o})},a.metadataCategoryListCopy=function(e,a,t,l){var n=void 0;if(a&&t){if("all"==l)var i=(0,s.param)({pageNum:t.current||1,pageSize:100,categoryId:a.categoryId,categoryName:a.categoryName});else var i=(0,s.param)({pageNum:t.current||1,pageSize:6,categoryId:a.categoryId,categoryName:a.categoryName});(0,r.default)((0,d.api)(u.url.getMetadataCategoryList,i)).then(function(a){console.log(a),0==a.code&&(n=a.result,e({metaGategoryList:n,type:o}))})}else n=[],e({metaGategoryList:n,type:o})});a.metadataCategoryEdit=function(e,a,t,l){var n=(0,s.param)(a);(0,r.default)((0,d.api)(u.url.getMetadataCategoryEdit,n)).then(function(a){console.log(a),0==a.code?(i.message.success(a.msg),c(e,{},{})):i.message.error(a.msg)})},a.metadataCategoryDelete=function(e,a){var t=(0,s.param)({categoryId:a});(0,r.default)((0,d.api)(u.url.getMetadataCategoryDelete,t)).then(function(a){console.log(a),0==a.code?(i.message.success(a.msg),c(e)):i.message.error(a.msg)})},a.metadataCategoryCreate=function(e,a){var t=(0,s.param)(a);(0,r.default)((0,d.api)(u.url.getMetadataCategoryCreate,t)).then(function(a){console.log(a),0==a.code?(i.message.success(a.msg),c(e,{},{})):i.message.error(a.msg)})}},98:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0}),a.metadataDataCreate=a.metadataDataDelete=a.metadataDataEdit=a.metadataDataListCopy=a.metadataDataList=void 0;var n=t(19),r=l(n),d=t(15),s=t(16),u=t(17),i=t(9),o="METADATA_DATA_LIST",c=(a.metadataDataList=function(e,a,t){var l=void 0;if(a&&t){var n=(0,s.param)({pageNum:t.current||0,pageSize:6,categoryId:a.categoryId,dataId:a.dataId,dataName:a.dataName,dataStatus:a.dataStatus});(0,r.default)((0,d.api)(u.url.metadataDataList,n)).then(function(a){if(console.log(a),0==a.code){i.message.success(a.msg),l=a.result;for(var t=0;t<l.data.length;t++)switch(l.data[t].dataStatus){case 1:l.data[t].dataStatus="新建";break;case 5:l.data[t].dataStatus="上架";break;case 6:l.data[t].dataStatus="下架"}e({metaDataList:l,type:o})}else i.message.error(a.msg)})}else l=[],e({metaDataList:l,type:o})},a.metadataDataListCopy=function(e,a,t){var l=void 0;if(a&&t){var n=(0,s.param)({pageNum:t.current||0,pageSize:6,categoryId:a.categoryId,dataId:a.dataId,dataName:a.dataName,dataStatus:a.dataStatus});(0,r.default)((0,d.api)(u.url.metadataDataList,n)).then(function(a){if(console.log(a),0==a.code){l=a.result;for(var t=0;t<l.data.length;t++)switch(l.data[t].dataStatus){case 1:l.data[t].dataStatus="新建";break;case 5:l.data[t].dataStatus="上架";break;case 6:l.data[t].dataStatus="下架"}e({metaDataList:l,type:o})}})}else l=[],e({metaDataList:l,type:o})});a.metadataDataEdit=function(e,a,t,l){var n=(0,s.param)(a);(0,r.default)((0,d.api)(u.url.metadataDataUpdate,n)).then(function(a){console.log(a),0==a.code?(i.message.success(a.msg),c(e,{},{})):i.message.error(a.msg)})},a.metadataDataDelete=function(e,a){var t=(0,s.param)({category_id:a});(0,r.default)((0,d.api)(u.url.metadataDataDelete,t)).then(function(a){0==a.code?(i.message.success(a.msg),c(e)):i.message.error(a.msg)})},a.metadataDataCreate=function(e,a){var t=(0,s.param)(a);(0,r.default)((0,d.api)(u.url.metadataDataCreate,t)).then(function(e){console.log(e),0==e.code?i.message.success(e.msg):i.message.error(e.msg)})}},941:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(6),r=l(n),d=t(7),s=l(d),u=t(2),i=l(u),o=t(5),c=l(o),f=t(4),m=l(f),p=t(3),g=l(p);t(1910);var h=t(1),y=l(h),E=(t(20),t(27)),v=l(E),b=t(945),k=l(b),C=t(943),S=l(C),N=(t(9),function(e){function a(e){(0,i.default)(this,a);var t=(0,m.default)(this,(a.__proto__||(0,s.default)(a)).call(this));return t.state={searchParams:{}},t}return(0,g.default)(a,e),(0,c.default)(a,[{key:"handleSearch",value:function(e){console.log(e),this.setState({searchParams:e})}},{key:"render",value:function(){this.props.buttonList;return y.default.createElement("div",{className:"page"},y.default.createElement(v.default,{title:"数据产品维护"}),y.default.createElement(k.default,{onSearch:this.handleSearch.bind(this)}),y.default.createElement(S.default,(0,r.default)({},this.props,{searchParams:this.state.searchParams})))}}]),a}(h.Component));a.default=N},942:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(46),r=l(n),d=t(6),s=l(d),u=t(7),i=l(u),o=t(2),c=l(o),f=t(5),m=l(f),p=t(4),g=l(p),h=t(3),y=l(h);t(1911);var E=t(1),v=l(E),b=t(20),k=t(9),C=(t(26),t(98)),S=t(68),N=k.Form.Item,I=k.Select.Option,D=k.Input.TextArea,w=0,x=function(e){function a(e){(0,c.default)(this,a);var t=(0,g.default)(this,(a.__proto__||(0,i.default)(a)).call(this,e));return t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){console.log(a),a=(0,s.default)({},a,{attrArr:[]});for(var l=1;l<a.keys.length+1;l++)a.attrArr.push({attrId:a["attrId"+l]||"",attrVar:a["attrVar"+l],attrName:a["attrName"+l],attrValue:a["attrValue"+l]});var n={dataId:t.props.preInfo.dataId+"",categoryId:a.categoryId+"",dataName:a.dataName,dataLable:a.dataLable,dataAbstract:a.dataAbstract,dataDesc:a.dataDesc,dataPrice:a.dataPrice+"",dataFormat:a.dataFormat,dataCharSet:a.dataCharSet,dataFrequency:a.dataFrequency,dataFrequencyUnit:a.dataFrequencyUnit,dataSave:a.dataSave,dataSaveUnit:a.dataSaveUnit,dataType:a.dataType,dataSize:a.dataSize,dataSizeUnit:a.dataSizeUnit,dataAddress:a.dataAddress,attributeList:a.attrArr};console.log("Received values of form: ",n);var d={dataParams:(0,r.default)(n)};console.log(d),t.props.form.resetFields(),t.props.submitCreate(d),t.props.onOk()}})},t.remove=function(e){var a=t.props.form,l=a.getFieldValue("keys");1!==l.length&&a.setFieldsValue({keys:l.filter(function(a){return a!==e})})},t.add=function(){w++;var e=t.props.form,a=e.getFieldValue("keys"),l=a.concat(w);e.setFieldsValue({keys:l})},t.checkPrice=function(e,a,t){return a.number>0?void t():void t("Price must greater than zero!")},t.state={},t}return(0,y.default)(a,e),(0,m.default)(a,[{key:"componentDidMount",value:function(){this.props.fetchCategory("all"),this.render()}},{key:"render",value:function(){var e=this,a=this.props,t=a.preInfo,l=a.metaGategoryList;console.log(l),l=l.data||[],console.log(t);var n=this.props.form,r=n.getFieldDecorator,d=n.getFieldValue,u={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},i={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},o={labelCol:{span:9},wrapperCol:{span:15}},c={labelCol:{span:0},wrapperCol:{span:12}},f={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},m=t.attributeList;r("keys",{initialValue:m});var p=d("keys");console.log(m);var g=p.map(function(a,t){return v.default.createElement("div",{className:"attrForm"},v.default.createElement(k.Row,null,v.default.createElement(k.Col,{span:6},v.default.createElement(N,(0,s.default)({},f,{label:"",required:!1,key:a+"Id"}),r("attrId"+(t+1),{validateTrigger:["onChange","onBlur"],initialValue:a.attrId})(v.default.createElement(k.Input,{readOnly:!0,placeholder:"ID不可修改！",style:{width:"75%",marginRight:3}})),p.length>1?v.default.createElement(k.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===p.length,onClick:function(){return e.remove(a)}}):null)),v.default.createElement(k.Col,{span:6},v.default.createElement(N,(0,s.default)({},f,{label:"",required:!1,key:a+"var"}),r("attrVar"+(t+1),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入属性标识"}],initialValue:a.attrVar})(v.default.createElement(k.Input,{placeholder:"属性标识"+(t+1),style:{width:"75%",marginRight:3}})),p.length>1?v.default.createElement(k.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===p.length,onClick:function(){return e.remove(a)}}):null)),v.default.createElement(k.Col,{span:6},v.default.createElement(N,(0,s.default)({},f,{label:"",required:!1,key:a+"name"}),r("attrName"+(t+1),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入属性名称"}],initialValue:a.attrName})(v.default.createElement(k.Input,{placeholder:"属性名称"+(t+1),style:{width:"75%",marginRight:3}})),p.length>1?v.default.createElement(k.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===p.length,onClick:function(){return e.remove(a)}}):null)),v.default.createElement(k.Col,{span:6},v.default.createElement(N,(0,s.default)({},f,{label:"",required:!1,key:a+"value"}),r("attrValue"+(t+1),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"请输入属性值"}],initialValue:a.attrValue})(v.default.createElement(k.Input,{placeholder:"属性值"+(t+1),style:{width:"75%",marginRight:3}})),p.length>1?v.default.createElement(k.Icon,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===p.length,onClick:function(){return e.remove(a)}}):null))))}),h=[];return l.forEach(function(e,a){h.push(v.default.createElement(I,{key:a,value:e.categoryId+""},e.categoryName))}),v.default.createElement(k.Form,{onSubmit:this.handleSubmit},v.default.createElement("p",{className:"fontP"},"数据基本属性："),v.default.createElement(N,(0,s.default)({},u,{label:"数据分类",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("categoryId",{rules:[{required:!0,message:"请选择数据分类"}],initialValue:t.categoryId})(v.default.createElement(k.Select,null,h)))),v.default.createElement(N,(0,s.default)({},u,{label:"数据名称",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataName",{rules:[{required:!0,message:"请输入数据名称"}],initialValue:t.dataName})(v.default.createElement(k.Input,{name:"name",key:"name"})))),v.default.createElement(N,(0,s.default)({},u,{label:"数据标签",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataLable",{rules:[{required:!0,message:"请输入数据标签"}],initialValue:t.dataLable})(v.default.createElement(k.Input,{name:"name",key:"name"})))),v.default.createElement(N,(0,s.default)({},u,{label:"数据摘要",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataAbstract",{rules:[{required:!0,message:"请输入数据摘要"}],initialValue:t.dataAbstract})(v.default.createElement(D,{name:"note",key:"note"})))),v.default.createElement(N,(0,s.default)({},u,{label:"数据描述",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataDesc",{rules:[{required:!0,message:"请输入数据描述"}],initialValue:t.dataDesc})(v.default.createElement(D,{name:"note",key:"note"})))),v.default.createElement(N,(0,s.default)({},u,{label:"数据价格(分)",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataPrice",{rules:[{required:!0,message:"请输入数据价格"}],initialValue:t.dataPrice})(v.default.createElement(k.Input,{name:"name",key:"name"})))),v.default.createElement(N,(0,s.default)({},u,{label:"数据格式",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataFormat",{rules:[{required:!0,message:"请输入数据数据格式"}],initialValue:t.dataFormat})(v.default.createElement(k.Select,null,v.default.createElement(I,{value:"basic"},"audio/basic"),v.default.createElement(I,{value:"jpeg"},"image/jpeg"),v.default.createElement(I,{value:"png"},"image/png"),v.default.createElement(I,{value:"mpeg"},"video/mpeg"),v.default.createElement(I,{value:"xml"},"text/xml"),v.default.createElement(I,{value:"plain"},"text/plain"),v.default.createElement(I,{value:"json"},"application/json"))))),v.default.createElement(N,(0,s.default)({},u,{label:"数据编码",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataCharSet",{rules:[{required:!0,message:"请选择数据编码"}],initialValue:t.dataCharSet})(v.default.createElement(k.Select,null,v.default.createElement(I,{value:"utf8"},"utf8"),v.default.createElement(I,{value:"gb2312"},"gb2312"),v.default.createElement(I,{value:"latin1"},"latin1"))))),v.default.createElement(k.Row,{gutter:20},v.default.createElement(k.Col,{span:16},v.default.createElement(N,(0,s.default)({},o,{label:"数据更新频率",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataFrequency",{rules:[{required:!0,message:"请选择数据更新频率"}],initialValue:t.dataFrequency})(v.default.createElement(k.InputNumber,{min:1,style:{width:"100%"}}))))),v.default.createElement(k.Col,{span:8},v.default.createElement(N,(0,s.default)({},c,{label:"",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataFrequencyUnit",{rules:[{required:!0,message:"请选择单位"}],initialValue:t.dataFrequencyUnit})(v.default.createElement(k.Select,null,v.default.createElement(I,{value:"year"},"年"),v.default.createElement(I,{value:"month"},"月"),v.default.createElement(I,{value:"day"},"日"),v.default.createElement(I,{value:"hour"},"时"),v.default.createElement(I,{value:"minute"},"分"),v.default.createElement(I,{value:"second"},"秒"))))))),v.default.createElement(k.Row,{gutter:20},v.default.createElement(k.Col,{span:16},v.default.createElement(N,(0,s.default)({},o,{label:"数据留存时间",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataSave",{rules:[{required:!0,message:"请选择数据留存时间"}],initialValue:t.dataSave})(v.default.createElement(k.InputNumber,{min:1,style:{width:"100%"}}))))),v.default.createElement(k.Col,{span:8},v.default.createElement(N,(0,s.default)({},c,{label:"",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataSaveUnit",{rules:[{required:!0,message:"请选择单位"}],initialValue:t.dataSaveUnit})(v.default.createElement(k.Select,null,v.default.createElement(I,{value:"year"},"年"),v.default.createElement(I,{value:"month"},"月"),v.default.createElement(I,{value:"day"},"日"),v.default.createElement(I,{value:"hour"},"时"),v.default.createElement(I,{value:"minute"},"分"),v.default.createElement(I,{value:"second"},"秒"))))))),v.default.createElement(N,(0,s.default)({},u,{label:"数据类型",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataType",{rules:[{required:!0,message:"请选择数据类型"}],initialValue:t.dataType})(v.default.createElement(k.Select,null,v.default.createElement(I,{value:"text"},"文本"),v.default.createElement(I,{value:"image"},"图片"),v.default.createElement(I,{value:"video"},"视频"))))),v.default.createElement(k.Row,{gutter:20},v.default.createElement(k.Col,{span:16},v.default.createElement(N,(0,s.default)({},o,{label:"数据大小",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataSize",{rules:[{required:!0,message:"请输入数据大小"}],initialValue:t.dataSize})(v.default.createElement(k.InputNumber,{min:1,style:{width:"100%"}}))))),v.default.createElement(k.Col,{span:8},v.default.createElement(N,(0,s.default)({},c,{label:"",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataSizeUnit",{rules:[{required:!0,message:"请选择单位"}],initialValue:t.dataSizeUnit})(v.default.createElement(k.Select,null,v.default.createElement(I,{value:"B"},"B"),v.default.createElement(I,{value:"KB"},"KB"),v.default.createElement(I,{value:"MB"},"MB"),v.default.createElement(I,{value:"GB"},"GB"),v.default.createElement(I,{value:"TB"},"TB"),v.default.createElement(I,{value:"PB"},"PB"))))))),v.default.createElement(N,(0,s.default)({},u,{label:"数据路径",hasFeedback:!0}),v.default.createElement("div",{className:"input-wrap"},r("dataAddress",{rules:[{required:!0,message:"请输入数据路径"}],initialValue:t.dataAddress})(v.default.createElement(k.Input,{name:"name",key:"name"})))),v.default.createElement("hr",null),v.default.createElement("p",{className:"fontP"},"扩展属性信息："),v.default.createElement(k.Row,{style:{marginBottom:"15px",marginTop:"15px"}},v.default.createElement(k.Col,{span:6},v.default.createElement("p",{style:{textAlign:"center"}},"属性ID")),v.default.createElement(k.Col,{span:6},v.default.createElement("p",{style:{textAlign:"center"}},"属性标识")),v.default.createElement(k.Col,{span:6},v.default.createElement("p",{style:{textAlign:"center"}},"属性名称")),v.default.createElement(k.Col,{span:6},v.default.createElement("p",{style:{textAlign:"center"}},"属性值"))),g,v.default.createElement(N,f,v.default.createElement(k.Button,{type:"dashed",onClick:this.add,style:{width:"60%"}},v.default.createElement(k.Icon,{type:"plus"}),"添加扩展属性")),v.default.createElement(N,i,v.default.createElement(k.Button,{type:"primary",htmlType:"submit",style:{marginLeft:"33%"}},"更新")))}}]),a}(v.default.Component),V=function(e){return(0,s.default)({},e.metaGategoryList)},_=function(e){return{submitCreate:function(a){(0,C.metadataDataEdit)(e,a)},fetchCategory:function(a){(0,S.metadataCategoryListCopy)(e,{},{},a)}}},F=k.Form.create()(x);a.default=(0,b.connect)(V,_)(F)},943:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(6),r=l(n),d=t(7),s=l(d),u=t(2),i=l(u),o=t(5),c=l(o),f=t(4),m=l(f),p=t(3),g=l(p);t(1912);var h=t(1),y=l(h),E=t(20),v=t(9),b=t(19),k=l(b),C=t(15),S=t(17),N=t(16),I=t(942),D=l(I),w=t(944),x=l(w),V=t(98),_=v.Modal.confirm,F=(v.Table.Columns,function(e){function a(e){(0,i.default)(this,a);var t=(0,m.default)(this,(a.__proto__||(0,s.default)(a)).call(this,e));return t.handleEditOk=function(e){t.setState({editVisible:!1})},t.handleEditCancel=function(e){t.setState({editVisible:!1})},t.handleDetailOk=function(e){t.setState({detailVisible:!1})},t.handleDetailCancel=function(e){t.setState({detailVisible:!1})},t.handleTableChange=function(e,a,l){console.log(t.state.searchParams);var n=(0,r.default)({},t.state.pagination);n.current=e.current,t.setState({pagination:n},function(){console.log(t.state),t.props.fetchDataCopy(t.state.searchParams,t.state.pagination)})},t.state={editWidth:600,searchParams:{},editVisible:!1,detailVisible:!1,preInfo:{},id:"",total:20,loading:!1,pagination:{current:1,total:0,pageSize:6}},t}return(0,g.default)(a,e),(0,c.default)(a,[{key:"handlePutaway",value:function(e,a){var t=this;_({title:"您确定要上架此商品?",content:"上架此商品",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){console.log(a);var e=(0,N.param)({dataId:a.dataId});(0,k.default)((0,C.api)(S.url.metadataDataPutaway,e)).then(function(e){console.log(e),0==e.code?(v.message.success(e.msg),t.props.fetchDataCopy(t.state.searchParams,t.state.pagination)):v.message.error(e.msg)})},onCancel:function(){console.log("Cancel")}})}},{key:"handleSoldOut",value:function(e,a){var t=this;_({title:"您确定要下架此商品?",content:"下架此商品",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){console.log(a);var e=(0,N.param)({dataId:a.dataId});(0,k.default)((0,C.api)(S.url.metadataDataSoldOut,e)).then(function(e){console.log(e),0==e.code?(v.message.success(e.msg),t.props.fetchDataCopy(t.state.searchParams,t.state.pagination)):v.message.error(e.msg)})},onCancel:function(){console.log("Cancel")}})}},{key:"handelDelete",value:function(e,a){var t=this;_({title:"您确定要删除此商品?",content:"删除此商品",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){console.log(a);var e=(0,N.param)({dataId:a.dataId});(0,k.default)((0,C.api)(S.url.metadataDataDelete,e)).then(function(e){console.log(e),0==e.code?(v.message.success(e.msg),t.props.fetchDataCopy(t.state.searchParams,t.state.pagination)):v.message.error(e.msg)})},onCancel:function(){console.log("Cancel")}})}},{key:"getDataEdit",value:function(e){var a=this,t=(0,N.param)({dataId:e});(0,k.default)((0,C.api)(S.url.getBaseDataDetail,t)).then(function(e){console.log(e),0==e.code&&a.setState({editVisible:!0,preInfo:e.result})})}},{key:"handelUpdate",value:function(e,a){console.log(a),this.getDataEdit(a.dataId)}},{key:"getDatadetail",value:function(e){var a=this,t=(0,N.param)({dataId:e});(0,k.default)((0,C.api)(S.url.getBaseDataDetail,t)).then(function(e){console.log(e),0==e.code&&a.setState({detailVisible:!0,preInfo:e.result})})}},{key:"handleDetail",value:function(e,a){this.getDatadetail(a.dataId)}},{key:"componentDidMount",value:function(){this.props.fetchDataCopy(),this.render()}},{key:"componentWillReceiveProps",value:function(e){console.log(e.searchParams),this.setState({searchParams:e.searchParams})}},{key:"render",value:function(){var e=this,a=this.props,t=a.metaDataList,l=(a.buttonList,[{title:"数据ID",dataIndex:"dataId",key:"dataId",width:"10%"},{title:"数据名称",dataIndex:"dataName",key:"dataName",width:"10%"},{title:"数据分类",dataIndex:"categoryName",key:"categoryName",width:"10%"},{title:"数据标签",dataIndex:"dataLable",key:"dataLable",width:"10%"},{title:"数据状态",dataIndex:"dataStatus",key:"dataStatus",width:"10%"},{title:"操作",dataIndex:"handle",width:"20%",render:function(a,t,l){return y.default.createElement("span",null,y.default.createElement("a",{onClick:e.handleDetail.bind(e,a,t)},"详细"),y.default.createElement("span",{className:"ant-divider"}),y.default.createElement("a",{onClick:e.handelUpdate.bind(e,a,t)},"编辑"),y.default.createElement("span",{className:"ant-divider"}),y.default.createElement("a",{onClick:e.handlePutaway.bind(e,a,t)},"上架"),y.default.createElement("span",{className:"ant-divider"}),y.default.createElement("a",{onClick:e.handleSoldOut.bind(e,a,t)},"下架"),y.default.createElement("span",{className:"ant-divider"}),y.default.createElement("a",{onClick:e.handelDelete.bind(e,a,t)},"删除"))}}]);return y.default.createElement("div",null,y.default.createElement(v.Table,{columns:l,rowKey:function(e){return e.registered},dataSource:t.data,pagination:(0,r.default)({},this.state.pagination,{total:t.total,current:t.pageNum}),loading:this.state.loading,onChange:this.handleTableChange.bind(this)}),y.default.createElement(v.Modal,{footer:null,title:"查看详细",visible:this.state.detailVisible,onOk:this.handleDetailOk,onCancel:this.handleDetailCancel,okText:"确定",cancelText:"取消",ref:"detailModal"},y.default.createElement(x.default,{preInfo:this.state.preInfo})),y.default.createElement(v.Modal,{footer:null,title:"编辑",width:this.state.editWidth,visible:this.state.editVisible,onOk:this.handleEditOk,onCancel:this.handleEditCancel,okText:"确定",cancelText:"取消",ref:"editModal"},y.default.createElement(D.default,{onOk:this.handleEditOk,preInfo:this.state.preInfo,search:this.state.searchParams,pag:this.state.pagination})))}}]),a}(h.Component)),L=function(e){return(0,r.default)({},e.metaDataList)},T=function(e){return{fetchData:function(a,t){(0,V.metadataDataList)(e,a,t)},fetchDataCopy:function(a,t){(0,V.metadataDataListCopy)(e,a,t)}}};a.default=(0,E.connect)(L,T)(F)},944:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(7),r=l(n),d=t(2),s=l(d),u=t(5),i=l(u),o=t(4),c=l(o),f=t(3),m=l(f);t(1913);var p=t(1),g=l(p),h=t(19),y=(l(h),t(9)),E=(t(15),t(16),t(17),function(e){function a(){var e,t,l,n;(0,s.default)(this,a);for(var d=arguments.length,u=Array(d),i=0;i<d;i++)u[i]=arguments[i];return t=l=(0,c.default)(this,(e=a.__proto__||(0,r.default)(a)).call.apply(e,[this].concat(u))),l.state={pagination:!1,loading:!1,data:{}},n=t,(0,c.default)(l,n)}return(0,m.default)(a,e),(0,i.default)(a,[{key:"render",value:function(){var e=this.props.preInfo;console.log(e);switch(e.dataStatus){case 1:e.dataStatus="新建";break;case 5:e.dataStatus="上架";break;case 6:e.dataStatus="下架"}switch(e.dataFrequencyUnit){case"year":e.dataFrequencyUnit="年";break;case"month":e.dataFrequencyUnit="月";break;case"day":e.dataFrequencyUnit="日";break;case"hour":e.dataFrequencyUnit="小时";break;case"minute":e.dataFrequencyUnit="分";break;case"second":e.dataFrequencyUnit="秒"}switch(e.dataSaveUnit){case"year":e.dataSaveUnit="年";break;case"month":e.dataSaveUnit="月";break;case"day":e.dataSaveUnit="日";break;case"hour":e.dataSaveUnit="小时";break;case"minute":e.dataSaveUnit="分";break;case"second":e.dataSaveUnit="秒"}var a=[{title:"序号",dataIndex:"attrId",key:"attrId",width:"10%"},{title:"属性标识",dataIndex:"attrVar",key:"attrVar",width:"10%"},{title:"属性名称",dataIndex:"attrName",key:"attrName",width:"10%"},{title:"属性值",dataIndex:"attrValue",key:"attrValue",width:"10%"}];return g.default.createElement("div",{className:"flowCon"},g.default.createElement(y.Row,null,g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth left"},"基本属性信息")),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据编码："),g.default.createElement("span",{className:"infoValue"},e.dataCharSet)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据分类："),g.default.createElement("span",{className:"infoValue"},e.categoryName)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据名称："),g.default.createElement("span",{className:"infoValue"},e.dataName)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据供应方："),g.default.createElement("span",{className:"infoValue"},e.username)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据摘要："),g.default.createElement("span",{className:"infoValue"},e.dataAbstract)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据描述："),g.default.createElement("span",{className:"infoValue"},e.dataDesc)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据价格："),g.default.createElement("span",{className:"infoValue"},e.dataPrice)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据状态："),g.default.createElement("span",{className:"infoValue"},e.dataStatus)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据格式："),g.default.createElement("span",{className:"infoValue"},e.dataFormat)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据更新频率："),g.default.createElement("span",{className:"infoValue"},e.dataFrequency+e.dataFrequencyUnit)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据留存时间："),g.default.createElement("span",{className:"infoValue"},e.dataSave+e.dataSaveUnit)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据类型："),g.default.createElement("span",{className:"infoValue"},e.dataType)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据大小："),g.default.createElement("span",{className:"infoValue"},e.dataSize+e.dataSizeUnit)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth"},"数据路径："),g.default.createElement("span",{className:"infoValue"},e.dataAddress)),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement("span",{className:"infokeyWidth left"},"扩展属性信息")),g.default.createElement(y.Col,{span:22,offset:1},g.default.createElement(y.Table,{columns:a,rowKey:function(e){return e.attrId},dataSource:e.attributeList,pagination:!1}))))}}]),a}(g.default.Component));a.default=E},945:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(6),r=l(n),d=t(18),s=l(d),u=t(7),i=l(u),o=t(2),c=l(o),f=t(5),m=l(f),p=t(4),g=l(p),h=t(3),y=l(h);t(1914);var E=t(1),v=l(E),b=t(20),k=t(9),C=t(98),S=t(68),N=k.Select.Option,I=[{name:"",key:"categoryId",label:"数据分类",id:"categoryId",type:"categoryId"},{name:"",key:"dataId",label:"数据ID",id:"dataId",type:"dataId"},{name:"",key:"dataName",label:"数据名称",id:"dataName",type:"dataName"},{name:"",key:"dataStatus",label:"数据状态",id:"dataStatus",type:"dataStatus"}],D=[{id:"1",name:"新建"},{id:"5",name:"上架"},{id:"6",name:"下架"}],w=function(e){function a(e){(0,c.default)(this,a);var t=(0,g.default)(this,(a.__proto__||(0,i.default)(a)).call(this));return t.handleReset=function(){t.props.form.resetFields(),t.setState({categoryId:"",dataId:"",dataName:"",dataStatus:""}),t.props.fetchData()},t.state={categoryId:"",dataId:"",dataName:"",dataStatus:""},t}return(0,y.default)(a,e),(0,m.default)(a,[{key:"render",value:function(){var e=this,a=this.props.metaGategoryList;a.data&&(a=a.data),console.log(a);var t=this.props.form.getFieldDecorator,l=[];return a.forEach(function(e,a){l.push(v.default.createElement(N,{key:a,value:e.categoryId+""},e.categoryName))}),v.default.createElement(k.Form,{horizontal:!0,style:{marginTop:"15px",marginBottom:"30px"},className:"bill-search-form",onSubmit:this.handleSearch.bind(this)},v.default.createElement(k.Row,{gutter:10},I.map(function(a,n){return v.default.createElement(k.Col,{span:12,key:a.key},v.default.createElement(k.Form.Item,{label:a.label,labelCol:{span:5},wrapperCol:{span:16}},t(a.id)("categoryId"===a.type?v.default.createElement(k.Select,{onChange:e.handleChange.bind(e,a)},l):"dataStatus"===a.type?v.default.createElement(k.Select,{onChange:e.handleChange.bind(e,a)},D.map(function(e,a){return v.default.createElement(N,{key:e.id,value:e.id},e.name)})):v.default.createElement(k.Input,{onChange:e.handleChange.bind(e,a),placeholder:""}))))})),v.default.createElement(k.Row,null,v.default.createElement(k.Col,{span:24,key:"submit",style:{textAlign:"right"}},v.default.createElement(k.Button,{type:"primary",onClick:this.handleReset,style:{marginRight:"20px"}},"清空"),v.default.createElement(k.Button,{type:"primary",htmlType:"submit"},"查询"))))}},{key:"handleChange",value:function(e,a){switch(e.type){case"categoryId":this.setState((0,s.default)({},e.key,a));break;case"dataStatus":this.setState((0,s.default)({},e.key,a));break;default:this.setState((0,s.default)({},e.key,a.target.value))}}},{key:"handleSearch",value:function(e){e.preventDefault(),this.props.onSearch(this.state),this.props.fetchData(this.state,{current:1})}},{key:"componentDidMount",value:function(){console.log(0xca1c249de38e),this.props.fetchCategory("all")}}]),a}(E.Component),x=function(e){return(0,r.default)({},e.metaGategoryList)},V=function(e){return{fetchData:function(a,t){(0,C.metadataDataListCopy)(e,a,t)},fetchCategory:function(a){(0,S.metadataCategoryListCopy)(e,{},{},a)}}},_=k.Form.create()(w);a.default=(0,b.connect)(x,V)(_)},1340:function(e,a,t){a=e.exports=t(11)(),a.push([e.id,"",""])},1341:function(e,a,t){a=e.exports=t(11)(),a.push([e.id,".attrForm input.ant-input-lg{padding-left:0}.attrForm .ant-col-sm-14{width:80%}",""])},1342:function(e,a,t){a=e.exports=t(11)(),
a.push([e.id,"",""])},1343:function(e,a,t){a=e.exports=t(11)(),a.push([e.id,".infokeyWidth{line-height:30px;width:150px;text-Align:right;padding-right:10px;display:inline-block;font-weight:700}.left{text-align:left}.infoValue{padding-left:10px;display:inline-block}.infolist{padding-left:20px;line-height:30px}.infolist p span:first-child{width:350px;display:inline-block;padding-left:60px}.flowCon{height:500px;overflow-y:auto}",""])},1344:function(e,a,t){a=e.exports=t(11)(),a.push([e.id,"",""])},1910:function(e,a,t){var l=t(1340);"string"==typeof l&&(l=[[e.id,l,""]]);t(12)(l,{});l.locals&&(e.exports=l.locals)},1911:function(e,a,t){var l=t(1341);"string"==typeof l&&(l=[[e.id,l,""]]);t(12)(l,{});l.locals&&(e.exports=l.locals)},1912:function(e,a,t){var l=t(1342);"string"==typeof l&&(l=[[e.id,l,""]]);t(12)(l,{});l.locals&&(e.exports=l.locals)},1913:function(e,a,t){var l=t(1343);"string"==typeof l&&(l=[[e.id,l,""]]);t(12)(l,{});l.locals&&(e.exports=l.locals)},1914:function(e,a,t){var l=t(1344);"string"==typeof l&&(l=[[e.id,l,""]]);t(12)(l,{});l.locals&&(e.exports=l.locals)}});