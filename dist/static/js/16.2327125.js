webpackJsonp([16,21],{27:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),r=n(o),c=a(2),u=n(c),s=a(5),i=n(s),l=a(4),d=n(l),p=a(3),y=n(p);a(34);var f=a(1),_=n(f),m=function(e){function t(){return(0,u.default)(this,t),(0,d.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.title;return _.default.createElement("h2",{className:"page-title"},e)}}]),t}(f.Component);t.default=m},29:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.button_list={auditpass_accountKey:"auditpass_account",auditpass_accountName:"审核通过",auditnopass_accountKey:"auditnopass_account",auditnopass_accountName:"审核不通过",query_accountKey:"query_account",query_accountName:"查询",edit_accountKey:"edit_account",edit_accountName:"编辑",detail_accountKey:"detail_account",detail_accountName:"查看详细",cancel_accountKey:"cancel_account",cancel_accountName:"注销",inport_accountKey:"inport_account",inport_accountName:"导入账户信息",export_accountKey:"export_account",export_accountName:"导出账户信息",query_accounttraceKey:"query_accounttrace",query_accounttraceName:"查询",detail_accountinfoKey:"detail_accountinfo",detail_accountinfoName:"查看详细",query_accountassetKey:"query_accountasset",query_accountassetName:"查询",detail_accountassetKey:"detail_accountasset",detail_accountassetName:"查看详细",create_accountassetKey:"create_accountasset",create_accountassetName:"资产创建",query_assettraceKey:"query_assettrace",query_assettraceName:"查询",add_roleKey:"add_role",add_roleName:"添加角色",query_roleKey:"query_role",query_roleName:"查询",edit_roleKey:"edit_role",edit_roleName:"编辑",maintain_rolerightKey:"maintain_roleright",maintain_rolerightName:"权限维护",delete_roleKey:"delete_role",delete_roleName:"删除",save_rolerightKey:"save_roleright",save_rolerightName:"保存",add_menuresourceKey:"add_menuresource",add_menuresourceName:"创建菜单资源",query_menuresourceKey:"query_menuresource",query_menuresourceName:"查询",edit_menuresourceKey:"edit_menuresource",edit_menuresourceName:"编辑",delete_menuresourceKey:"delete_menuresource",delete_menuresourceName:"删除",add_buttonresourceKey:"add_buttonresource",add_buttonresourceName:"创建按钮资源",query_buttonresourceKey:"query_buttonresource",query_buttonresourceName:"查询",edit_buttonresourceKey:"edit_buttonresource",edit_buttonresourceName:"编辑",delete_buttonresourceKey:"delete_buttonresource",delete_buttonresourceName:"删除",add_dataresourceKey:"add_dataresource",add_dataresourceName:"创建数据资源",query_dataresourceKey:"query_dataresource",query_dataresourceName:"查询",eidt_dataresourceKey:"eidt_dataresource",eidt_dataresourceName:"编辑",delete_dataresourceKey:"delete_dataresource",delete_dataresourceName:"删除",create_contractKey:"create_contract",create_contractName:"创建合约",import_contractKey:"import_contract",import_contractName:"导入合约",query_contractproductinfileKey:"query_contractproductinfile",query_contractproductinfileName:"查询",edit_contractproductKey:"edit_contractproduct",edit_contractproductName:"编辑",send_contractproductKey:"send_contractproduct",send_contractproductName:"送审",update_contractproductKey:"update_contractproduct",update_contractproductName:"查看修改意见",delete_contractproductKey:"delete_contractproduct",delete_contractproductName:"删除",query_contractproductinproductKey:"query_contractproductinproduct",query_contractproductinproductName:"查询",pass_contractproductKey:"pass_contractproduct",pass_contractproductName:"同意",nopass_contractproductKey:"nopass_contractproduct",nopass_contractproductName:"建议修改",release_contractproductKey:"release_contractproduct",release_contractproductName:"发布",sign_contractKey:"sign_contract",sign_contractName:"签约",query_contractKey:"query_contract",query_contractName:"查询",transfer_moneyKey:"transfer_money",transfer_moneyName:"确定"}},33:function(e,t,a){t=e.exports=a(11)(),t.push([e.id,".page-title{border-left:2px solid #fa7a27;padding:0 10px;line-height:22px}",""])},34:function(e,t,a){var n=a(33);"string"==typeof n&&(n=[[e.id,n,""]]);a(12)(n,{});n.locals&&(e.exports=n.locals)},36:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.queryButtonList=void 0;var o=a(19),r=n(o),c=a(15),u=a(16),s=a(17),i=(a(9),"BUTTON_LIST");t.queryButtonList=function(e){var t=void 0,a=(0,u.param)({role:sessionStorage.role});(0,r.default)((0,c.api)(s.url.requireButtonList,a)).then(function(a){console.log(a),0==a.code&&(t=a.result,e({buttonList:t,type:i}))})}},37:function(e,t){"use strict";function a(e,t){for(var a="",n=[],o=0;o<e.length;o++)t==e[o].buttonKey&&n.push(e[o].buttonKey);return a=1==n.length}Object.defineProperty(t,"__esModule",{value:!0}),t.btnIsShow=a},140:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.actionBlockchainOption=t.actionBlockchainTest=t.actionBlockchainCreate=t.actionBlockchainDelete=t.actionBlockchainEdit=t.actionBlockchainSearchCopy=t.actionBlockchainSearch=void 0;var o=a(62),r=a(19),c=n(r),u=a(15),s=a(16),i=a(17),l=a(9),d=(t.actionBlockchainSearch=function(e,t){var a=void 0;if(t)e({blockchainList:[],type:o.ACTION_BLOCKCHAIN_LIST});else{var n=(0,s.param)({});(0,c.default)((0,u.api)(i.url.blockchainList,n)).then(function(t){if(console.log(t),0==t.code){l.message.success(t.msg),a=t.result;for(var n=0;n<a.length;n++)a[n].storeContract=a[n].storeContract?"是":"否",a[n].valid=a[n].valid?"是":"否";e({blockchainList:a,type:o.ACTION_BLOCKCHAIN_LIST})}else l.message.error(t.msg)})}},t.actionBlockchainSearchCopy=function(e){var t=void 0,a=(0,s.param)({});(0,c.default)((0,u.api)(i.url.blockchainList,a)).then(function(a){if(console.log(a),0==a.code){t=a.result;for(var n=0;n<t.length;n++)t[n].storeContract=t[n].storeContract?"是":"否",t[n].valid=t[n].valid?"是":"否";console.log(t),e({blockchainList:t,type:o.ACTION_BLOCKCHAIN_LIST})}})});t.actionBlockchainEdit=function(e,t,a){t.storeContract="1"==t.storeContract||"0"!=t.storeContract&&null,t.valid="1"==t.valid||"0"!=t.valid&&null;var n=(0,s.param)({id:a,type:t.type,name:t.name,description:t.description,ip:t.ip,port:t.port,storeContract:t.storeContract,valid:t.valid});console.log(t),(0,c.default)((0,u.api)(i.url.blockchainEdit,n)).then(function(t){0==t.code?(l.message.success(t.msg),d(e)):l.message.error(t.msg)})},t.actionBlockchainDelete=function(e,t){var a=(0,s.param)({id:t});(0,c.default)((0,u.api)(i.url.blockchainDelete,a)).then(function(t){0==t.code?(l.message.success(t.msg),d(e)):l.message.error(t.msg)})},t.actionBlockchainCreate=function(e,t){t.storeContract="1"==t.storeContract,t.valid="1"==t.valid;var a=(0,s.param)({type:t.type,name:t.name,description:t.description,ip:t.ip,port:t.port,storeContract:t.storeContract,valid:t.valid});(0,c.default)((0,u.api)(i.url.blockchainAdd,a)).then(function(t){0==t.code?(l.message.success(t.msg),d(e)):l.message.error(t.msg)})},t.actionBlockchainTest=function(e,t){var a=(0,s.param)({id:t});(0,c.default)((0,u.api)(i.url.blockchainTest,a)).then(function(e){console.log(e),0==e.code?l.message.success(e.msg):l.message.error(e.msg)})},t.actionBlockchainOption=function(e,t){var a=void 0;if(t)e({blockchainOption:[],type:o.ACTION_BLOCKCHAIN_OPTION});else{var n=(0,s.param)({});(0,c.default)((0,u.api)(i.url.blockchainOption,n)).then(function(t){console.log(t),0==t.code&&(a=t.result,e({blockchainOption:a,type:o.ACTION_BLOCKCHAIN_OPTION}))})}}},861:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(6),r=n(o),c=a(7),u=n(c),s=a(2),i=n(s),l=a(5),d=n(l),p=a(4),y=n(p),f=a(3),_=n(f);a(1843);var m=a(1),h=n(m),g=a(27),b=n(g),k=a(9),v=(a(15),a(16),a(17),a(862)),C=n(v),N=a(863),K=n(N),q=(k.Select.Option,function(e){function t(e){(0,i.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return a.state={searchParams:{user:"",pubkey:"",blockChainId:""}},a}return(0,_.default)(t,e),(0,d.default)(t,[{key:"handleSearch",value:function(e){console.log(e),this.setState({searchParams:{user:e.id,pubkey:e.roleSelect,blockChainId:e.blockChainId}})}},{key:"render",value:function(){return h.default.createElement("div",{className:"page"},h.default.createElement(b.default,{title:"资产记录"}),h.default.createElement(K.default,{onSearch:this.handleSearch.bind(this)}),h.default.createElement(C.default,(0,r.default)({},this.props,{searchParams:this.state.searchParams})))}}]),t}(m.Component));t.default=q},862:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(6),r=n(o),c=a(7),u=n(c),s=a(2),i=n(s),l=a(5),d=n(l),p=a(4),y=n(p),f=a(3),_=n(f);a(1844);var m=a(1),h=n(m),g=a(20),b=a(9),k=a(19),v=(n(k),a(262)),C=a(84),N=(n(C),a(15),a(17),a(16),b.Table.Columns,function(e){function t(e){(0,i.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return a.handleTableChange=function(e,t,n){var o=(0,r.default)({},a.state.pagination);o.current=e.current,a.setState({pagination:o},function(){console.log(a.state),a.props.queryCopy(a.state.searchParams.user,a.state.searchParams.pubkey,a.state.pagination)})},a.state={searchParams:{},data:[],loading:!1,pagination:{current:1,total:0,pageSize:6}},a.columns=[{title:"账户账号",dataIndex:"pubKey",key:"pubKey",width:"18%"},{title:"操作日期",dataIndex:"transferDate",key:"transferDate",width:"10%"},{title:"资产来源",dataIndex:"transferFrom",key:"transferFrom",width:"18%"},{title:"资产去向",dataIndex:"transferTo",key:"transferTo",width:"18%"},{title:"资产数量",dataIndex:"transferAmount",key:"transferAmount",width:"7%"},{title:"是否合约",dataIndex:"transactionType",key:"transactionType",width:"7%"},{title:"操作类型",dataIndex:"operateType",key:"operateType",width:"7%"}],a}return(0,_.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e.searchParams),this.setState({searchParams:e.searchParams})}},{key:"componentDidMount",value:function(){this.props.queryCopy()}},{key:"render",value:function(){var e=this.props,t=e.assetList,a=e.amount;return console.log(a),console.log(t),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(b.Row,{style:{marginTop:"10px",marginBottom:"10px"}},h.default.createElement(b.Col,{span:6},h.default.createElement("p",{className:"showInfo"},"账户余额：",h.default.createElement("span",null,a),"元"))),h.default.createElement(b.Table,{columns:this.columns,rowKey:function(e){return e.dataIndex},dataSource:t.data,pagination:(0,r.default)({},this.state.pagination,{total:t.total,current:t.pageNum}),loading:this.state.loading,onChange:this.handleTableChange.bind(this)}))}}]),t}(m.Component)),K=function(e){return console.log(e),(0,r.default)({},e.assetQueryList,e.assetQueryAmount)},q=function(e){return{query:function(t,a,n){(0,v.assetQueryList)(e,t,a,n),(0,v.assetQueryAmount)(e,t,a)},queryCopy:function(t,a,n){(0,v.assetQueryListCopy)(e,t,a,n),(0,v.assetQueryAmountCopy)(e,t,a)}}};t.default=(0,g.connect)(K,q)(N)},863:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(6),r=n(o),c=a(18),u=n(c),s=a(7),i=n(s),l=a(2),d=n(l),p=a(5),y=n(p),f=a(4),_=n(f),m=a(3),h=n(m);a(1845);var g=a(1),b=n(g),k=a(20),v=a(9),C=a(262),N=a(140),K=a(15),q=a(17),I=a(16),O=a(37),S=a(29),x=a(36),L=a(19),B=n(L),T=v.Select.Option,E=[{name:"",key:"username",label:"账户名称",id:"username"},{name:"",key:"pubkey",label:"账户账号",id:"pubkey",type:"pubkey"},{name:"",key:"blockChainId",label:"区块链名称",id:"blockChainId",type:"blockChainId"}],w=function(e){function t(e){(0,d.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return a.handleReset=function(){a.props.form.resetFields(),a.setState({blockChainId:"",username:"",pubkey:""}),a.props.queryCopy()},a.state={blockChainId:"",username:"",pubkey:"",preInfo:{},keys:[],user:""},a}return(0,h.default)(t,e),(0,y.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.buttonList,n=t.blockchainOption,o=this.props.form.getFieldDecorator,r=[];return this.state.keys?this.state.keys.forEach(function(e,t){r.push(b.default.createElement(T,{key:e.id+"user",value:e.publicKey},e.strOption))}):r=[],b.default.createElement(v.Form,{horizontal:!0,style:{marginTop:"15px",marginBottom:"30px"},className:"bill-search-form",onSubmit:this.handleSearch.bind(this)},b.default.createElement(v.Row,{gutter:10},E.map(function(t,a){return b.default.createElement(v.Col,{span:12,key:t.key},b.default.createElement(v.Form.Item,{label:t.label,labelCol:{span:4},wrapperCol:{span:20}},o(t.id,{rules:[{required:!0,message:"请输入必选项!",whitespace:!0}]})("pubkey"===t.type?b.default.createElement(v.Select,{placeholder:"请选择账号",onChange:e.handleChange.bind(e,t)},r):"blockChainId"===t.type?b.default.createElement(v.Select,{placeholder:"请选择区块链名称",onChange:e.handleChange.bind(e,t)},n.map(function(e,t){return b.default.createElement(T,{key:e.id,value:e.id+""},e.name)})):b.default.createElement(v.Input,{onChange:e.handleChange.bind(e,t),onBlur:e.getData.bind(e,t),placeholder:""}))))})),b.default.createElement(v.Row,null,b.default.createElement(v.Col,{span:24,key:"submit",style:{textAlign:"right"}},b.default.createElement(v.Button,{type:"primary",onClick:this.handleReset,style:{marginRight:"20px"}},"清空"),b.default.createElement(v.Button,{type:"primary",htmlType:"submit",style:{display:(0,O.btnIsShow)(a,S.button_list.query_assettraceKey)?"inline-block":"none"}},S.button_list.query_assettraceName))))}},{key:"componentDidMount",value:function(){this.props.fetchData(),this.props.btnList(),this.render()}},{key:"getData",value:function(e,t){var a=this,n=t.target.value,o=(0,I.param)({username:n}),r=[];(0,B.default)((0,K.api)(q.url.accountKeypairList,o)).then(function(e){console.log(e),0==e.code&&(e.result?(r=e.result,a.setState({keys:r,user:r[0].userId})):(r=[],a.setState({keys:r})),a.render())})}},{key:"handleChange",value:function(e,t){switch(e.type){case"pubkey":this.setState((0,u.default)({},e.key,t));break;case"blockChainId":this.setState((0,u.default)({},e.key,t));break;default:this.setState((0,u.default)({},e.key,t.target.value))}console.log(this.state)}},{key:"handleSearch",value:function(e){var t=this;e.preventDefault(),console.log(this.state),this.props.onSearch(this.state),this.props.form.validateFields(function(e,a){e?t.props.queryCopy():(t.handleReset(),console.log(t.state),t.props.query(t.state,{current:1}))})}}]),t}(g.Component),P=function(e){return(0,r.default)({},e.blockchainOption,e.assetList,e.amount,e.buttonList)},A=function(e){return{query:function(t,a){(0,C.assetQueryList)(e,t,a),(0,C.assetQueryAmount)(e,t)},queryCopy:function(t,a){(0,C.assetQueryListCopy)(e,t,a),(0,C.assetQueryAmountCopy)(e,t)},btnList:function(){(0,x.queryButtonList)(e)},fetchData:function(){(0,N.actionBlockchainOption)(e)}}},M=v.Form.create()(w);t.default=(0,k.connect)(P,A)(M)},1273:function(e,t,a){t=e.exports=a(11)(),t.push([e.id,".showInfo{font-size:16px;line-height:30px}.showInfo span{font-weight:700;font-size:18px;padding:0 10px}",""])},1274:function(e,t,a){t=e.exports=a(11)(),t.push([e.id,"",""])},1275:function(e,t,a){t=e.exports=a(11)(),t.push([e.id,"",""])},1843:function(e,t,a){var n=a(1273);"string"==typeof n&&(n=[[e.id,n,""]]);a(12)(n,{});n.locals&&(e.exports=n.locals)},1844:function(e,t,a){var n=a(1274);"string"==typeof n&&(n=[[e.id,n,""]]);a(12)(n,{});n.locals&&(e.exports=n.locals)},1845:function(e,t,a){var n=a(1275);"string"==typeof n&&(n=[[e.id,n,""]]);a(12)(n,{});n.locals&&(e.exports=n.locals)}});